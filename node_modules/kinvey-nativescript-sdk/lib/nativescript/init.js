import { init as coreInit } from 'kinvey-js-sdk';
import PubNub from 'pubnub/lib/nativescript';
import * as HttpAdapter from './httpAdapter';
import * as SessionStore from './sessionStore';
import * as Popup from './popup';
import { getStorageAdapter } from './storage';
import { getDataFromPackageJson } from './utils';
export function init(config) {
    const configFromPackageJson = getDataFromPackageJson();
    const mergedConfig = Object.assign({}, configFromPackageJson, config);
    const kinveyConfig = coreInit({
        kinveyConfig: mergedConfig,
        httpAdapter: HttpAdapter,
        sessionStore: SessionStore,
        popup: Popup,
        storageAdapter: getStorageAdapter(mergedConfig.storage),
        pubnub: PubNub
    });
    return Object.assign({}, kinveyConfig, { storage: mergedConfig.storage, _storage: mergedConfig.storage });
}
export function initialize(config) {
    return init(config);
}
//# sourceMappingURL=init.js.map